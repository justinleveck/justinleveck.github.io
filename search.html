<!DOCTYPE html>
<html class="no-js">
  <head>
	<meta charset="utf-8">
	<title>Search | Justin Leveck</title>
	<meta name="description" content="A website with blog posts and pages">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- CSS -->
	<link rel="stylesheet" href="/assets/css/main.css">

	<!--Favicon-->
	<link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon">

	<!-- Canonical -->
	<link rel="canonical" href="/search">

	<!-- RSS -->
	<link rel="alternate" type="application/atom+xml" title="Justin Leveck" href="/feed.xml" />

	<!-- Font Awesome -->
	<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

	<!-- Google Fonts -->
	
	<link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,700italic,400italic" rel="stylesheet" type="text/css">
	

	<!-- KaTeX -->
	
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.8.3/katex.min.css">
	<script src="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.8.3/katex.min.js"></script>
	

	<!-- Google Analytics -->
	
</head>


  <body class="url_search layout_page" >
    
    <div class="content">
      <article >
  
  <div class="call-out"
  style="background-image: url('/assets/img/crystal-cove.jpg')">
    <header class="site-custom-header">
  <a class="blog-logo" href="/">
    <span class="title">Justin Leveck</span>
  </a>
  <div class="social-media">
    <a href="https://github.com/justinleveck" target="_new">
      <i class="fa fa-github"></i>
    </a>
    <a href="https://twitter.com/justinleveck" target="_new">
      <i class="fa fa-twitter"></i>
    </a>
    <a href="/resume">
      <i class="fa fa-user"></i>
    </a>
  </div>
</header>

  </div>


  <header style="background-image: url('/')">
    <h1 class="title">Search</h1>
    
  </header>
  <section class="post-content"><div class="search">
    <div id="search-results"></div>
    <p id="not-found" style="display: none">
        No results found.
    </p>
</div>


<script>
  window.store = {
    
      "max-sub-array-length": {
        "title": "Max Sub Array Length",
        "tags": "code-challenge",
        "date": "May 31, 2018",
        "author": "",
        "category": "",
        "content": "I recently got a subscription to Leetcode.com. I found this challenge particularly challenging:ChallengeGiven an array nums and a target value k, find the maximum length of a subarray that sums to k. If there isn’t one, return 0 instead.Note:The sum of the entire nums array is guaranteed to fit within the 32-bit signed integer range.Example 1:Input: nums = [1, -1, 5, -2, 3], k = 3Output: 4 Explanation: The subarray [1, -1, 5, -2] sums to 3 and is the longest.Example 2:Input: nums = [-2, -1, 2, 1], k = 1Output: 2 Explanation: The subarray [-1, 2] sums to 1 and is the longest.Solution:When solving this challenge I made several mistakes. The challenge is asking usto determine the maximum sub-array length. Not the maximum sub-sequence length.A sub-array is contigous. This is a key note to solving the challenge.First AttemptIn my first attempt I used a brute force algorithm. Where I determined everypossible sub-array storing only the ones where the sum was equal to the givenamount.This strategy proved to be very ineffecient. As it requires several iterationsto determine the output.  First iteration determines every possible sub-array  Second iteration for every sub-array  Third iteration for the array of sub-arrays to determine the one with the longest lengthdef max_sub_array_len(nums, k)      sub_arrays = []  nums.each_with_index do |num, index|        slice_length = 0    while slice_length &lt;= nums.length      sub_array = nums.slice(index, slice_length)      sum = sub_array.inject(:+)      if sum == k        sub_arrays &lt;&lt; sub_array      end      slice_length += 1    end  end  sub_arrays.map(&amp;:length).max || 0endSecond AttemptThis soluion is far more efficient since we are iterating through theelements only once.def max_sub_array_len(nums, k)  sum = 0  max_length = 0  history = {0 =&gt; -1}  nums.each_with_index do |num, index|    sum += num    history[sum] ||= index    if history[sum - k]      max_length = [max_length, index - history[sum - k]].max    end  end  max_lengthendWith this solution we iterate through nums and for every element we store thecurrent sum and current index.Let’s walk through this solution given the following inputs.nums = [1, 1, 5, -2, 3]k = 3As we iterate through the nums the sum and index are as follows.1  2  7   5  8  # sums1, 1, 5, -2, 3  # nums0  1  2   3  4  # indexWe are trying to find the longest sub_array with a sum of 3. Given the numsinput we are given there is only one sub_array with the sum of 3.[5, -2]When iterating over the nums it is at index 3 when iterating over -2 we willdetermine the only correct sub_array.Can you see why?At index 3 we know the following:sum = 5k = 3We need to know if at any point a recorded sum is equal to the difference of sumand k (3). Let’s look at our table again. Ah, okay we can see that at index 1the sum was 2.1  2  7   5  8  # sums1, 1, 5, -2, 3  # nums0  1  2   3  4  # indexSo we know our sub_array must contain all elements to the left of our currentelement stopping before index 1.The correct sub_array is then [5, -2] with a sum equal to the k input of 3.And the correct max_length determined is 2.",
        "url": "//max-sub-array-length"
      }
      ,
    
      "patch-redactor-to-allow-header-formatting": {
        "title": "Patch Redactor to allow header formatting",
        "tags": "redactor,, front-end",
        "date": "December 21, 2015",
        "author": "",
        "category": "",
        "content": "For whatever reason Redactor in older versions does not allow formatting to beapplied to headers. After some Googling I was able to find a solution posted bySimon onStackOverflow.It turns out you can comment out one of the lines that guard against this andit works!The following line prevents formatting actions taking affect on headers.if (this.utils.isCurrentOrParent('PRE') || this.utils.isCurrentOrParentHeader()) return;It needs to be changed to:if (this.utils.isCurrentOrParent('PRE')) return;Although we can make these changes directly to the source code there aredownsides to this including maintainability.Applying the changes via a patch is more preferable.The below patch will allow formats (e.g. bold, italic, underline,strikethrough) to be applied to redactor headings.$(document).ready(function() {  if ($.Redactor) {    var _inline = $.Redactor.prototype.inline;    $.Redactor.prototype.inline = function() {      var obj = _inline();      obj.format = function(tag, type, value) {                     if (this.utils.isCurrentOrParent('PRE')) return;                     //rest of method from source      return obj;    }  }",
        "url": "//patch-redactor-to-allow-header-formatting"
      }
      ,
    
      "detect-iframe-click-events-with-pointer-events": {
        "title": "Detect iframe click events with pointer-events",
        "tags": "frontend,, javascript,, css",
        "date": "December 10, 2015",
        "author": "",
        "category": "",
        "content": "Today I learned about the CSS attribute pointer-events. Used with an iframeand parent div you can detect when a click has been made over anembedded iframe.&lt;div class=\"container\"&gt;  &lt;iframe&gt;&lt;/iframe&gt;&lt;/div&gt;iframe {  pointer-events: none;}$(document).ready(function () {  $('.container').on('click', function() {    $(this).after(\"&lt;p&gt;click detected!&lt;/p&gt;\");  });});",
        "url": "//detect-iframe-click-events-with-pointer-events"
      }
      ,
    
      "working-with-frozen-hashes": {
        "title": "Working with Frozen Hashes",
        "tags": "ruby,, hash,, deep_dup",
        "date": "December 1, 2015",
        "author": "",
        "category": "",
        "content": "I discovered a cool method today while working with a frozen hash containing afrozen array.deep_dupFrom the Rails API Documentation:  Returns a deep copy of hash.   hash = { a: { b: 'b' } } dup  = hash.deep_dup dup[:a][:c] = 'c' hash[:a][:c] # =&gt; nil dup[:a][:c]  # =&gt; \"c\"&gt;   Use of this method allowed for a nice refactor:BeforeSANITIZER = AppConfig.sanitizer.default.dupSANITIZER[:elements] = SANITIZER[:elements].dupSANITIZER[:elements].push \"iframe\"AfterSANITIZER = AppConfig.sanitizer.default.deep_dupSANITIZER[:elements].push \"iframe\"",
        "url": "//working-with-frozen-hashes"
      }
      ,
    
      "extract-activerecord-scope-method": {
        "title": "Extract ActiveRecord Scope Method",
        "tags": "rails,, extract, method,, refactoring",
        "date": "November 18, 2015",
        "author": "",
        "category": "",
        "content": "Peer review today lead to a great refactoring opportunity. The pull requestcentered around allowing signed in site administrators to view unpublished blogposts.OriginalMy goal here is to only have the published scope apply if the current_useris not an administrator in both the index and blog_post actions.class BlogController &lt; SiteController  def index    @blog_posts = blog.blog_posts.published  end  def blog_post    @blog_post = blog.blog_posts.published.friendly.find(params[:id])  end  private  def blog    current_site.blog  endendInitial AttemptMy first attempt is not very clean in the blog_post action.  The intent is lost being spread across 3 lines  The current_user.try(:administrator?) logic is duplicated across twoactionsclass BlogController &lt; SiteController  def index    if current_user.try(:administrator?)      @blog_posts = blog.blog_posts    else      @blog_posts = blog.blog_posts.published    end  end  def blog_post    blog_posts = blog.blog_posts    blog_posts = blog_posts.published unless current_user.try(:administrator?)    @blog_post = blog_posts.friendly.find(params[:id])  end  private  def blog    current_site.blog  endendRefactorAnd now for the refactor. Here you can see how this really cleaned up.The ActiveRecord scope has been extracted to a private method namedblog_posts_scopeThis extracted scope can now be used in the index and blog_post actions andit gets rid of the logic duplication to determine if the current_user is anadministrator.class BlogController &lt; SiteController  def index    @blog_posts = blog_posts_scope  end  def blog_post    @blog_post = blog_posts_scope.friendly.find(params[:id])  end  private  def blog_posts_scope    if current_user.try(:administrator?)      blog.blog_posts    else      blog.blog_posts.published    end  end  def blog    current_site.blog  endendPeer reviews and refactoring techniques for the win!",
        "url": "//extract-activerecord-scope-method"
      }
      ,
    
      "optimize-rails-database-queries-with-bullet-and-rspec": {
        "title": "Optimize Rails Database Queries with Bullet and RSpec",
        "tags": "rails,, performance,, bullet",
        "date": "November 17, 2015",
        "author": "",
        "category": "",
        "content": "Bullet is a gem that helps increase yourapplication’s performance by reducing the number of queries it makes.The README describes how to use the gem in Development but makes no specialmention of how to use it in test with RSpec.Searching through the gem’s issues I discovered that you can use the followingsettings before calling visit to have Bullet raise an exception if aninfraction is detected.  Bullet.enable = true  Bullet.raise = trueYou could go a step further and update the rails_helper to allow for easier usage  # spec/rails_helper.rb  config.before :each, bullet: true do    Bullet.enable = true    Bullet.raise = true  end  config.after :each, bullet: true do    Bullet.enable = false    Bullet.raise = false  end",
        "url": "//optimize-rails-database-queries-with-bullet-and-rspec"
      }
      ,
    
      "fozzie-throwback-thursday": {
        "title": "Fozzie Bear &amp;#x23TBT",
        "tags": "tbt,, fozzie,, costume",
        "date": "September 2, 2015",
        "author": "",
        "category": "",
        "content": "Throwback Thursday to Halloween 2014 when I made my own Fozzie Bear costume.I had no idea how much work it would be but it was a lot of fun. Big ups toanyone who does this on a regular basis.Credit to this tutorial for helping a lot.  PatternOK, so first we need to get the below pattern in the correct size.With the help of Kinko and several iterations of cutting, stapling, andmodeling it on my own head I am left with this.Looking good!FoamNext, I went to my local craft store and purchased craft foam similar tothe one below. Using the above pattern I cut the foam. Using model glue,suitable for foam, I then glued the foam together to form the head.FurWith the foam head finished now I began work on the fur covering.Using the same pattern from above I cut the fur to match the same pattern asthe foam. Next I glued the fur to the foam head. Afterwards, I sewed all theseems.Coming together!                      Lots of coffee!Details          Eyes &amp; Nose                                        Mouth        Profit                ",
        "url": "//fozzie-throwback-thursday"
      }
      ,
    
      "rbenv-installing-gems-fails-with-permission-error": {
        "title": "rbenv installing gems fails with permission error",
        "tags": "rbenv,, ruby,, osx",
        "date": "April 14, 2015",
        "author": "",
        "category": "",
        "content": "Helping a new dev setup their machine today with rbenv when trying tobundle I ran into this error:ERROR:  While executing gem ... (Gem::FilePermissionError)You don't have write permissions for the /Library/Ruby/Gems/2.0.0 directory.Thankfully I already dealt with this before and referenced it as a comment toa question on StackOverflow. For my own future reference I will list the solutionhere as well.You need to correct your pathsTo determine if this fix will work run the following:which gemThis should output a directory you do not have permissions to:/usr/bin/gemTo fix this perform the following steps.      Determine the path you need to copy to your profile:    rbenv init -      The first line of the output is the line you need to copy over to your profile:    export PATH=\"/Users/justin/.rbenv/shims:${PATH}\" #path that needs to be copied    source \"/usr/local/Cellar/rbenv/0.4.0/libexec/../completions/rbenv.zsh\"    rbenv rehash 2&gt;/dev/null    rbenv() {      typeset command      command=\"$1\"      if [ \"$#\" -gt 0 ]; then        shift      fi      case \"$command\" in      rehash|shell)        eval `rbenv \"sh-$command\" \"$@\"`;;      *)        command rbenv \"$command\" \"$@\";;      esac    }      Copy the path to your profile and save it        Reload your profile (source ~/.zshenv for me)        Run rbenv rehash  Now when you run which gem you should get a local path that you have permissions to:/Users/justin/.rbenv/shims/gem",
        "url": "//rbenv-installing-gems-fails-with-permission-error"
      }
      ,
    
      "look-and-say-sequence": {
        "title": "Look and Say Sequence",
        "tags": "ruby",
        "date": "January 10, 2015",
        "author": "",
        "category": "",
        "content": "Had some fun recently coming up with a solution to generate any element of theLook-and-say sequence. The sequence was introduced and analyzed by JohnConway. Here is an example of the sequence:1, 11, 21, 1211, 111221, 312211, 13112221, 1113213211, ...The best way to explain the sequence is through examples:1 “one one” -&gt; 11 “two ones” -&gt; 21 “one two, one one” -&gt; 1211, etcThis is a sequence used by Google during interviews. They ask for a methodusing recursion that takes in n, where n represents the n’th element appearingin the sequence, that returns the entire sequence to that point.For example:foo(4)[1, 11, 21, 1211]Here is the solution I came up with:def look_and_say(n, x = \"1\", to_return = [\"1\"])  if n == 1    return to_return.map{|i| i.to_i}  end   if n &gt; 1    x = get_next_element(x)    to_return &lt;&lt; x    return look_and_say(n-1, x, to_return)  endend def get_next_element(x)  current_digit = x[0]  count = 0  to_return = \"\"  x.chars.each do |i|    if i == current_digit      count += 1    else      to_return = \"#{to_return + count.to_s + current_digit}\"      current_digit = i      count = 1    end  end  to_return = \"#{to_return + count.to_s + current_digit}\"  return to_returnend",
        "url": "//look-and-say-sequence"
      }
      ,
    
      "batman-js-conditionally-add-dynamic-class-attributes": {
        "title": "Batman.js conditionally add dynamic class attributes",
        "tags": "batman.js",
        "date": "August 21, 2014",
        "author": "",
        "category": "",
        "content": "I learned something new today working with Batman.js. I needed to add adynamic class attribute conditionally. According to the documentation there area couple of databindings to helpachieve this – data-addClass and data-removeClass.I later discovered (on the #batmanjs freenode irc channel) filters can be used toadd conditional logic. As it turns out there are a couplefilters that apply tothis task – equals, eq, and neq. However the only filter that seems towork with the above data bindings is equals.Putting this all together, here is an example of how to use a class of errorif the key does not equal 'OK'.When the key does not equal 'OK' the error class is not removed:Hashstatus = { lax: 'ERROR' }View&lt;div class=\"error\" data-removeClass-error=\"status.lax | equals 'OK'\"&gt;&lt;/div&gt;Output&lt;div class=\"error\" data-removeclass-error=\"status.lax | equals 'OK'\"&gt;&lt;/div&gt;When the key equals 'OK' the error class is removed:Hashstatus = { lax: 'OK' }View&lt;div class=\"error\" data-removeClass-error=\"status.lax | equals 'OK'\"&gt;&lt;/div&gt;Output&lt;div class=\" \" data-removeclass-error=\"status.lax | equals 'OK'\"&gt;&lt;/div&gt;",
        "url": "//batman-js-conditionally-add-dynamic-class-attributes"
      }
      ,
    
      "batman-js-data-foreach-getting-key-value": {
        "title": "Batman.js data-foreach getting key value",
        "tags": "batman.js",
        "date": "August 20, 2014",
        "author": "",
        "category": "",
        "content": "Tasked with creating an internal dashboard we decided to go with Shopify’sDashing framework. However, I ran into a problem when using the data-foreachbinding to iterate over a hash where I needed to access both the key and thevalue. Unable to find the solution in the documentation or online I turnedto the batmanjs freenode irc channel.As it turns out the solution is verysimple.The data-foreach binding iterates over the keys. Use the key tolookup the value and boom goes the dynamite.Hash:Products = { product1: '$1', product2: '$2' }View:&lt;ul&gt;  &lt;li data-foreach-product=\"Products\"&gt;    &lt;span data-bind=\"product\"&gt;&lt;/span&gt;    &lt;span data-bind=\"Products[product]\"&gt;&lt;/span&gt;  &lt;/li&gt;&lt;/ul&gt;Output:&lt;ul&gt;  &lt;li&gt;    &lt;span data-bind=\"product\"&gt;product1&lt;/span&gt;    &lt;span data-bind=\"Products[product]\"&gt;$1&lt;/span&gt;  &lt;/li&gt;  &lt;li&gt;    &lt;span data-bind=\"product\"&gt;product2&lt;/span&gt;    &lt;span data-bind=\"Products[product]\"&gt;$2&lt;/span&gt;  &lt;/li&gt;&lt;/ul&gt;",
        "url": "//batman-js-data-foreach-getting-key-value"
      }
      ,
    
      "embed-discourse-comments-on-your-multi-author-blog": {
        "title": "Embed Discourse Comments on Your Multi-Author Blog",
        "tags": "discourse",
        "date": "June 16, 2014",
        "author": "",
        "category": "",
        "content": "Discourse now allows embedding comments on multi-author blogs. Previously onediscourse username was used to create all blog article topics created byDiscourse. This approach works well for single author blogs but not so well formulti-author ones. Since, topics are not created using the discourse usernameof the author, new comment author notifications are not automatically sentout.This led me to write the recently merged Discourse feature that allows you to specifythe author’s discourse username for each article published on a multi-authorblog.Discourse has two methods for creating topics for blog posts  RSS or Atom feed  Readability algorithmWhen any forum users comment on the blog article forum topic the comment willappear on the blog as well.Configure embedding  Install Discourse. It is preferred that you use discourse_docker.  Navigate to Embedding Site Settingshttp://discourse.yourdomain.com/admin/site_settings/category/embedding  Configure the settings being sure to specify the following    In your blog template include the following JavaScript snippet and &lt;div&gt; tag where you would like comments to appear.     &lt;div id=\"discourse-comments\"&gt;&lt;/div&gt; &lt;script type=\"text/javascript\"&gt;   var discourseUrl = 'http://blog.com/',       discourseUserName = 'justin_leveck',       discourseEmbedUrl = 'http://blog.com/2014/06/02/hello-world.html';   (function() {     var d = document.createElement('script'); d.type = 'text/javascript'; d.async = true; d.src = discourseUrl + 'javascripts/embed.js';     (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(d);   })(); &lt;/script&gt;        Caveats          Set discourseUrl so that it points to the root URL of your Discourse forum.      Set discourseUserName to author’s discourse username.      Set discourseEmbedUrl to the canonical URL of the page where you are embedding Discourse. This URL must be unique otherwise multiple topics for the same article will be created.        Reload your blog to allow changes to take effect. Discourse will begincreating topics for your blog posts in your forum and comments should nowbe visible on your blog.",
        "url": "//embed-discourse-comments-on-your-multi-author-blog"
      }
      ,
    
      "deploying-middleman-to-github-pages": {
        "title": "Deploying Middleman to GitHub Pages",
        "tags": "middleman,, github-pages",
        "date": "June 6, 2014",
        "author": "",
        "category": "",
        "content": "Today I began using GitHub Pages to host my blog. It is created using Middleman – a static site generator. I followed the guide provided by GitHub but it left out a few details so here is a tutorial on how to setup GitHub Pages, a custom domain, and Middleman deploys.Setting up GitHub Pages  Create a repository using the format requested by GitHub where username is your GitHub username.     username.github.io        Create a branch called source and place your source files there. GitHub Pages requires that your static files be placed in master.     git checkout -b source      Setup custom domain with GitHub PagesAs outlined by the GitHub documentation  Create a CNAME file with your custom domain in the source directory of your source branch.     blog.justinleveck.com        I decided to go with using a custom subdomain for the various reasons provided by GitHub which include access to their CDN, being immune to changes in IP addresses for GitHub, and faster load times.    Configure a CNAME record with your DNS provider.  Disable Jekyl processing by creating .nojekyll in the source directory of your source branch.Setup Middleman Deploys  Add middleman-deploy to your Gemfile     gem 'middleman-deploy'        Run bundle install  Activate the extension in config.rb     activate :deploy do |deploy|   deploy.method = :git   deploy.branch = 'master' end        To deploy to GitHub Pages, from the source branch run     middleman build middleman deploy        The statically generated files will be pushed to your remote master and live within a few minutes.  ",
        "url": "//deploying-middleman-to-github-pages"
      }
      ,
    
      "project-euler-problem-7": {
        "title": "Project Euler - Problem 7",
        "tags": "project-euler,, ruby",
        "date": "July 6, 2013",
        "author": "",
        "category": "",
        "content": "I recently applied to gSchool. The code I submitted was my answer to Problem 7 at Project Euler:  By listing the first six prime numbers: 2, 3, 5, 7, 11, and 13, we can see that the 6th prime is 13.What is the 10,001st prime number?This was a fun problem to work on. Initially the method I wrote to test if a number (x) is prime involved testing each number that made up x. It resembled something like this:def prime? number  return false if number == 0 || number == 1  integers = *(2..number)  integers.each do |i|    return false if number % i == 0  end  trueendAlthough this approach worked. It took far too long to compute. So I did some research on Wikipedia and came across an integer factorization called Trial division. Incorporating this into the final solution below drastically reduced the time to compute the answer.def prime? number  return false if number == 0 || number == 1  integers = *(2..Math.sqrt(number).round)  integers.each do |i|    return false if number % i == 0  end  trueenddef findPrime order  count = 0  number = 0  while count != order      number += 1      count += 1 if prime? number  end  numberend",
        "url": "//project-euler-problem-7"
      }
      
    
  };
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/0.7.1/lunr.min.js"></script>
<script src="/assets/js/search.js"></script>
</section>
</article>

    </div>
    
<script src="/assets/js/katex_init.js"></script>



<footer class="site-footer">
	<a class="subscribe icon-feed" href="/feed.xml">
		<i class="fas fa-rss-square">
			<span class="tooltip">Subscribe!</span>
		</i>
	</a>
	<div class="inner">
		<section class="copyright">
			All content copyright
			<a href="/">Justin Leveck</a>
			© 2018 • All rights reserved.
		</section>
		<section class="poweredby">
			Proudly published with
			<a href="https://jekyllrb.com">Jekyll</a>
		</section>
	</div>
</footer>
  </body>
</html>
